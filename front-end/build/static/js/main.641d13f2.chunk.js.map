{"version":3,"sources":["images/Vectorll.svg","images/success.svg","images/fail.svg","auth.js","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/Api.js","components/PopupWithFrom.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DeletePlacePopup.js","components/ProtectedRoute.js","components/Login.js","components/Register.js","components/InfoTooltip.js","components/App.js","serviceWorker.js","index.js"],"names":["module","exports","BASE_URL","checkToken","token","fetch","method","headers","then","res","ok","json","Promise","reject","status","data","Header","props","onOut","React","useState","email","setEmail","sign","setSign","loggedIn","setLoggedIn","link","setLink","location","useLocation","useEffect","pathname","jwt","localStorage","getItem","auth","catch","err","console","log","className","src","logo","alt","onClick","to","CurrentUserContext","createContext","Card","currentUser","useContext","card","onCardClick","onCardLike","onCardDelete","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","name","type","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","avatar","about","map","key","Footer","ImagePopup","isOpen","onClose","api","options","this","_baseUrl","baseUrl","_headers","getHeaders","cardId","newCard","body","JSON","stringify","url","userData","PopupWithForm","title","children","submit","onSubmit","isLoading","action","EditProfilePopup","onUpdateUser","setName","description","setDescription","evt","preventDefault","htmlFor","id","placeholder","minLength","maxLength","required","value","onChange","e","target","EditAvatarPopup","inputRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","nameRef","linkRef","DeletePlacePopup","onDeletePlace","ProtectedRoute","withRouter","onLogin","password","setPassword","onRegister","InfoTooltip","image","setImage","text","setText","successImg","failImg","App","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isDeletePlacePopupOpen","setDeletePlacePopupOpen","isInfoTooltipPopupOpen","setInfoTooltipPopupOpen","isImageOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","setLoading","deleteCard","setDeleteCard","history","useHistory","closeAllPopups","handleCardClick","handleInfoTooltip","all","getCards","getUserInfo","push","handleTokenCheck","Provider","removeItem","exact","path","changeLikeCardStatus","newCards","c","setItem","updateProfile","newUser","finally","postCard","updateAvatar","filter","item","Boolean","window","hostname","match","ReactDOM","render","StrictMode","document","querySelector","navigator","serviceWorker","ready","registration","unregister","error","message"],"mappings":"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","file":"static/js/main.641d13f2.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/Vectorll.c6f11019.svg\";","module.exports = __webpack_public_path__ + \"static/media/success.e38b395c.svg\";","module.exports = __webpack_public_path__ + \"static/media/fail.4072126c.svg\";","//export const BASE_URL = 'https://auth.nomoreparties.co';\r\nexport const BASE_URL = 'https://api.georgii.students.nomoreparties.xyz';\r\n//export const BASE_URL = 'https://localhost:5000';\r\n\r\nexport const login = (email, password) => {\r\n  return fetch(`${BASE_URL}/signin`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({\r\n      email, password\r\n    })\r\n  })\r\n  .then(res => {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`Ошибка: ${res.status}`);\r\n  })\r\n  .then((data) => {\r\n    if (data.token) {\r\n      localStorage.setItem('token', data.token);\r\n      return data;\r\n    }\r\n  })\r\n}\r\n\r\nexport const register = (email, password) => {\r\n  return fetch(`${BASE_URL}/signup`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({\r\n      email, password\r\n    })\r\n  })\r\n  .then(res => {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`Ошибка: ${res.status}`);\r\n  })\r\n}\r\n\r\nexport const checkToken = (token) => {\r\n  return fetch(`${BASE_URL}/users/me`, {\r\n    method: 'GET',\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${token}`\r\n    }\r\n  })\r\n  .then(res => {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`Ошибка: ${res.status}`);\r\n  })\r\n  .then(data => data)\r\n}","import React from 'react';\r\nimport logo from '../images/Vectorll.svg';\r\nimport * as auth from '../auth.js';\r\nimport { Link, useLocation } from 'react-router-dom';\r\n\r\nexport { Header }\r\n\r\nfunction Header(props) {\r\n\r\n  const { onOut } = props;\r\n\r\n  const [email, setEmail] = React.useState('');\r\n  const [sign, setSign] = React.useState('');\r\n  const [loggedIn, setLoggedIn] = React.useState();\r\n  const [link, setLink] = React.useState('');\r\n  let location = useLocation();\r\n\r\n  React.useEffect(() => {\r\n    if (location.pathname === '/sign-in') {\r\n      setLoggedIn(false);\r\n      setSign('Регистрация');\r\n      setLink('/sign-up');\r\n      setEmail('');\r\n    } else if (location.pathname === '/sign-up') {\r\n      setLoggedIn(false);\r\n      setSign('Войти');\r\n      setLink('/sign-in');\r\n      setEmail('');\r\n    } else {\r\n      setLink('/');\r\n      setLoggedIn(true);\r\n      const jwt = localStorage.getItem('token');\r\n      if (jwt) {\r\n        auth.checkToken(jwt)\r\n          .then((res) => {\r\n            if (res) {\r\n              setEmail(res.data.email);\r\n            }\r\n          })\r\n          .catch(err => console.log(err));\r\n      }\r\n    }\r\n  }, [location.pathname])\r\n\r\n  return (\r\n\r\n    <header className=\"header\">\r\n      <img className=\"header__logo\" src={logo} alt=\"Mesto\" />\r\n        <nav className=\"header__signconteiner\">\r\n          <p className=\"header__email\">{email}</p>\r\n          {loggedIn ? <p className=\"header__signout\" onClick={onOut}>Выйти</p> : <Link to={link} className=\"header__signin\">{sign}</Link>}\r\n        </nav>\r\n    </header>\r\n\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","import React, { useContext } from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\n\r\nexport { Card };\r\n\r\nfunction Card(props) {\r\n\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  const { card, onCardClick, onCardLike, onCardDelete } = props;\r\n  // Определяем, являемся ли мы владельцем текущей карточки\r\n  const isOwn = card.owner._id === currentUser._id;\r\n\r\n  // Создаём переменную, которую после зададим в `className` для кнопки удаления\r\n  const cardDeleteButtonClassName = `element__remove ${isOwn && 'element__remove_active'}`;\r\n\r\n  // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\r\n  const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n\r\n  // Создаём переменную, которую после зададим в `className` для кнопки лайка\r\n  const cardLikeButtonClassName = `element__heart ${isLiked && 'element__heart_active'}`;\r\n\r\n  function handleClick() {\r\n    onCardClick(card);\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    onCardLike(card);\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    onCardDelete(card);\r\n  }\r\n\r\n  return (\r\n\r\n    <li className=\"element\">\r\n      <img className=\"element__pic\" src={card.link} alt={card.name} onClick={handleClick} />\r\n      <button className={cardDeleteButtonClassName} type=\"button\" onClick={handleDeleteClick} />\r\n      <div className=\"element__content\">\r\n        <h2 className=\"element__name\">{card.name}</h2>\r\n        <div className=\"element__counter\">\r\n          <button className={cardLikeButtonClassName} onClick={handleLikeClick} />\r\n          <p className=\"element__heart-counter\">{card.likes.length}</p>\r\n        </div>\r\n      </div>\r\n    </li>\r\n\r\n  );\r\n}","import React, { useContext } from 'react';\r\nimport { Card } from './Card.js';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\n\r\nexport { Main };\r\n\r\nfunction Main(props) {\r\n\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  const { onEditAvatar, onEditProfile, onAddPlace, onCardClick, cards, onCardLike, onCardDelete, } = props;\r\n\r\n  return (\r\n\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__content\">\r\n          <button className=\"profile__avatar-button\"><img className=\"profile__avatar\" src={currentUser.avatar}\r\n            onClick={onEditAvatar} alt=\"Avatar\" /></button>\r\n          <div className=\"profile__info-container\">\r\n            <div className=\"profile__info\">\r\n              <h1 className=\"profile__info-heading\">{currentUser.name}</h1>\r\n              <button className=\"profile__info-edit\" onClick={onEditProfile} />\r\n            </div>\r\n            <p className=\"profile__info-text\">{currentUser.about}</p>\r\n          </div>\r\n        </div>\r\n        <button className=\"profile__add-button popup-add-place\" onClick={onAddPlace} />\r\n      </section>\r\n\r\n      <section className=\"elements-section\">\r\n        <ul className=\"elements\">\r\n          {cards.map((card) => (\r\n            <Card key={card._id} card={card} onCardClick={onCardClick} onCardLike={onCardLike} onCardDelete={onCardDelete} />\r\n          ))}\r\n        </ul>\r\n      </section>\r\n    </main>\r\n\r\n  );\r\n}","import React from 'react';\r\n\r\nexport { Footer }\r\n\r\nfunction Footer() {\r\n\r\n\r\n  return (\r\n\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__text\">&copy; 2020 Mesto Russia</p>\r\n    </footer>\r\n\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nexport { ImagePopup }\r\n\r\nfunction ImagePopup(props) {\r\n\r\n  const { isOpen, onClose, name, link } = props;\r\n\r\n  return (\r\n\r\n    <section className={`popup ${isOpen && 'popup_opened'}`}>\r\n      <figure className=\"element__container popup-mouse\">\r\n        <button className=\"popup__close popup-pic-close\" onClick={onClose} />\r\n        <img className=\"element__pic element__pic_active element-pic-full\" src={link} alt={name} />\r\n        <figcaption className=\"element__name element__name_active element-name-full\">{name}</figcaption>\r\n      </figure>\r\n    </section>\r\n  );\r\n}","class Api {\n  constructor(options) {\n    // тело конструктора\n    this._baseUrl = options.baseUrl;\n    this._headers = options.headers;\n  }\n\n  getUserInfo() {\n    return fetch(`${this._baseUrl}/me`, {  //было /users/me\n      headers: this.getHeaders(),\n    })\n      .then(res => {\n        if (res.ok) {\n          return res.json();\n        }\n\n        // если ошибка, отклоняем промис\n        return Promise.reject(`Ошибка: ${res.status}`);\n      });\n  }\n\n  getCards() {\n    return fetch(`${this._baseUrl}/cards`, {\n      headers: this.getHeaders(),\n    })\n      .then(res => {\n        if (res.ok) {\n          return res.json();\n        }\n\n        // если ошибка, отклоняем промис\n        return Promise.reject(`Ошибка: ${res.status}`);\n      });\n  }\n\n  deleteCard(cardId) {\n    return fetch(`${this._baseUrl}/cards/${cardId}`, {\n      method: \"DELETE\",\n      headers: this.getHeaders(),\n    }).then(res => {\n      if (res.ok) {\n        return res.json();\n      }\n\n      // если ошибка, отклоняем промис\n      return Promise.reject(`Ошибка: ${res.status}`);\n    });\n  }\n\n  changeLikeCardStatus(cardId, isLiked) {\n    return fetch(`${this._baseUrl}/cards/${cardId}/likes`, {\n      method: `${isLiked ? 'PUT' : 'DELETE'}`,\n      headers: this.getHeaders(),\n    }).then(res => {\n      if (res.ok) {\n        return res.json();\n      }\n\n      // если ошибка, отклоняем промис\n      return Promise.reject(`Ошибка: ${res.status}`);\n    });\n  }\n\n  postCard(newCard) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: \"POST\",\n      headers: this.getHeaders(),\n      body: JSON.stringify({\n        name: newCard.name,\n        link: newCard.link\n      })\n    }).then(res => {\n      if (res.ok) {\n        return res.json();\n      }\n\n      // если ошибка, отклоняем промис\n      return Promise.reject(`Ошибка: ${res.status}`);\n    });\n  }\n\n  //up avatar\n  updateAvatar(avatar) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: this.getHeaders(),\n      body: JSON.stringify(\n        { avatar: avatar.url }\n      )\n    }).then(res => {\n      if (res.ok) {\n        return res.json();\n      }\n\n      // если ошибка, отклоняем промис\n      return Promise.reject(`Ошибка: ${res.status}`);\n    });\n  }\n\n  //up profile\n  updateProfile(userData) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: \"PATCH\",\n      headers: this.getHeaders(),\n      body: JSON.stringify({\n        name: userData.name,\n        about: userData.about\n      })\n    }).then(res => {\n      if (res.ok) {\n        return res.json();\n      }\n      // если ошибка, отклоняем промис\n      return Promise.reject(`Ошибка: ${res.status}`);\n    });\n  }\n\n  getHeaders(){\n    const token = localStorage.getItem('token'); // тут мы получаем токен из localStorage\n    return {\n      ...this.headers,\n      'Authorization': `Bearer ${token}`,\n    }\n  }\n}\n\nconst api = new Api({\n  baseUrl: 'https://georgii.students.nomoreparties.xyz',\n  headers: {\n    //authorization: `Bearer ${localStorage.getItem('token')}`,\n    'Content-Type': 'application/json'\n  }\n});\n\n// const api = new Api({\n//   baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-14',\n//   headers: {\n//     authorization: '759b7868-e5b7-4679-b3b4-6ab62cbc0a7b',\n//     'Content-Type': 'application/json'\n//   }\n// });\n\nexport { api };","import React from 'react';\r\n\r\nexport { PopupWithForm };\r\n\r\nfunction PopupWithForm(props) {\r\n\r\n  const { name, isOpen, title, children, submit, onClose, onSubmit, isLoading } = props;\r\n\r\n  return (\r\n\r\n    <section className={`popup popup_${name} \r\n      ${isOpen && 'popup_opened'\r\n      }`}>\r\n      <div className=\"popup__container popup-mouse\">\r\n        <button className=\"popup__close popup-edit-close\" onClick={onClose} />\r\n        <div className=\"popup__content\">\r\n          <h2 className=\"popup__heading\">{title}</h2>\r\n          <form className={`popup__form popup-${name}`} action='#' onSubmit={onSubmit}>\r\n            {children}\r\n            <button className=\"popup__save popup-edit-save\">\r\n              {isLoading ? `Сохранение...` : submit}\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </section>\r\n\r\n  );\r\n}","import React, { useContext } from 'react';\r\nimport { PopupWithForm } from './PopupWithFrom.js';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\n\r\nexport { EditProfilePopup };\r\n\r\nfunction EditProfilePopup(props) {\r\n\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  const { isOpen, onClose, onUpdateUser, isLoading } = props;\r\n\r\n  const [name, setName] = React.useState('');\r\n  const [description, setDescription] = React.useState('');\r\n\r\n\r\n  // После загрузки текущего пользователя из API\r\n  // его данные будут использованы в управляемых компонентах.\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]);\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n\r\n    // Передаём значения управляемых компонентов во внешний обработчик\r\n    onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  function handleChangeName(e) {\r\n      setName(e.target.value)\r\n  }\r\n\r\n  function handleChangeDescription(e) {\r\n      setDescription(e.target.value)\r\n  }\r\n\r\n  return (\r\n\r\n    <PopupWithForm\r\n      name='profile'\r\n      title='Редактировать профиль'\r\n      submit='Сохранить'\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      isLoading={isLoading}\r\n    >\r\n      <label htmlFor='name' className='popup__fields'>\r\n        <input\r\n          type='text'\r\n          className='popup__input'\r\n          id='name-input'\r\n          name='userName'\r\n          placeholder='Имя'\r\n          minLength='2'\r\n          maxLength='40'\r\n          required\r\n          value={name || ''}\r\n          onChange={handleChangeName}\r\n        />\r\n        <span className='popup__input-error' id='name-input-error'></span>\r\n      </label>\r\n      <label htmlFor='about' className='popup__fields'>\r\n        <input\r\n          type='text'\r\n          className='popup__input'\r\n          id='prof-input'\r\n          name='userProf'\r\n          placeholder='Род деятельности'\r\n          minLength='2'\r\n          maxLength='200'\r\n          required\r\n          value={description || ''}\r\n          onChange={handleChangeDescription}\r\n        />\r\n        <span className='popup__input-error' id='prof-input-error'></span>\r\n      </label>\r\n    </PopupWithForm>\r\n\r\n  );\r\n}","import React, { useRef } from 'react';\r\nimport { PopupWithForm } from './PopupWithFrom.js';\r\n\r\nexport { EditAvatarPopup };\r\n\r\nfunction EditAvatarPopup(props) {\r\n\r\n  const inputRef = useRef(''); // записываем объект, возвращаемый хуком, в переменную\r\n\r\n  const { isOpen, onClose, onUpdateAvatar, isLoading } = props;\r\n\r\n\r\n  // После загрузки текущего пользователя из API\r\n  // его данные будут использованы в управляемых компонентах.\r\n  React.useEffect(() => {\r\n    inputRef.current.value = '';\r\n  }, [isOpen]);\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n\r\n    // Передаём значения управляемых компонентов во внешний обработчик\r\n    onUpdateAvatar({\r\n      url: inputRef.current.value\r\n    });\r\n  }\r\n\r\n  return (\r\n\r\n    <PopupWithForm\r\n      name='avatar'\r\n      title='Обновить аватар'\r\n      submit='Сохранить'\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      isLoading={isLoading}\r\n    >\r\n      <label htmlFor='url' className='popup__fields'>\r\n        <input\r\n          type='url'\r\n          className='popup__input'\r\n          id='ava-url-input'\r\n          name='link'\r\n          placeholder='Ссылка на аватар'\r\n          required\r\n          ref={inputRef}\r\n        />\r\n        <span className='popup__input-error' id='ava-url-input-error'></span>\r\n      </label>\r\n    </PopupWithForm>\r\n\r\n  );\r\n}","import React, { useRef } from 'react';\r\nimport { PopupWithForm } from './PopupWithFrom.js';\r\n\r\nexport { AddPlacePopup };\r\n\r\nfunction AddPlacePopup(props) {\r\n\r\n  const { isOpen, onClose, isLoading, onAddPlace } = props;\r\n\r\n  const nameRef = useRef(''); // записываем объект, возвращаемый хуком, в переменную\r\n  const linkRef = useRef('');\r\n\r\n  const [name, setName] = React.useState('');\r\n  const [link, setLink] = React.useState('');\r\n\r\n  // После загрузки текущего пользователя из API\r\n  // его данные будут использованы в управляемых компонентах.\r\n  React.useEffect(() => {\r\n    setName('');\r\n    setLink('');\r\n  }, [isOpen]);\r\n\r\n  function handleChangeName(e) {\r\n    // Передаём значения управляемых компонентов во внешний обработчик\r\n      setName(e.target.value)\r\n  }\r\n\r\n  function handleChangeLink(e) {\r\n      setLink(e.target.value)\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onAddPlace({\r\n      name,\r\n      link,\r\n    });\r\n  }\r\n\r\n  return (\r\n\r\n    <PopupWithForm\r\n      name='place'\r\n      title='Новое место'\r\n      submit='Создать'\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      isLoading={isLoading}\r\n    >\r\n      <label htmlFor='name' className='popup__fields'>\r\n        <input\r\n          className='popup__input'\r\n          id='text-input'\r\n          name='name'\r\n          placeholder='Название'\r\n          minLength='1'\r\n          maxLength='30'\r\n          required\r\n          ref={nameRef}\r\n          onChange={handleChangeName}\r\n        />\r\n        <span className='popup__input-error' id='text-input-error'></span>\r\n      </label>\r\n      <label htmlFor='link' className='popup__fields'>\r\n        <input\r\n          type='url'\r\n          className='popup__input'\r\n          id='pic-url-input'\r\n          name='link'\r\n          placeholder='Ссылка на картинку'\r\n          required\r\n          ref={linkRef}\r\n          onChange={handleChangeLink}\r\n        />\r\n        <span className='popup__input-error' id='pic-url-input-error'></span>\r\n      </label>\r\n    </PopupWithForm>\r\n  );\r\n}","import React from 'react';\r\nimport { PopupWithForm } from './PopupWithFrom.js';\r\n\r\nexport { DeletePlacePopup };\r\n\r\nfunction DeletePlacePopup(props) {\r\n\r\n  const { isOpen, onClose, isLoading, onDeletePlace } = props;\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onDeletePlace();\r\n  }\r\n\r\n  return (\r\n\r\n    <PopupWithForm\r\n      name='delete'\r\n      title='Вы уверены?'\r\n      submit='Да'\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      isLoading={isLoading}\r\n    />\r\n  );\r\n}","import React from 'react';\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ loggedIn, ...props  }) => {\r\n  return loggedIn ? <Route {...props} /> : <Redirect to=\"./sign-in\" />\r\n}\r\n\r\nexport { ProtectedRoute };","import React from 'react';\r\nimport { Link, withRouter } from 'react-router-dom';\r\n\r\nconst Login = (props) => {\r\n  const { onLogin } = props;\r\n\r\n  const [email, setEmail] = React.useState('');\r\n  const [password, setPassword] = React.useState('')\r\n\r\n  const handleChangeEmail = (e) => {\r\n    setEmail(e.target.value);\r\n  }\r\n\r\n  const handleChangePassword = (e) => {\r\n    setPassword(e.target.value);\r\n  }\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    // здесь обрабатываем вход в систему\r\n    if (!email || !password) {\r\n      console.log('error');\r\n      return;\r\n    }\r\n    onLogin(email, password);\r\n    setEmail('');\r\n    setPassword('');\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} className=\"login\">\r\n      <h4 className=\"login__title\">Вход</h4>\r\n      <label htmlFor='email' className='login__fields'>\r\n        <input\r\n          type='text'\r\n          className='login__input'\r\n          id='log-email'\r\n          name='email'\r\n          placeholder='Email'\r\n          value={email}\r\n          onChange={handleChangeEmail}\r\n          required\r\n        />\r\n        <span className='popup__input-error' id='popup-input-error'></span>\r\n      </label>\r\n      <label htmlFor='password' className='login__fields'>\r\n        <input\r\n          type='password'\r\n          className='login__input'\r\n          id='log-pas'\r\n          name='password'\r\n          placeholder='Пароль'\r\n          value={password}\r\n          onChange={handleChangePassword}\r\n          required\r\n        />\r\n        <span className='popup__input-error' id='popup-input-error'></span>\r\n      </label>\r\n      <button type=\"submit\" className=\"login__button\">Войти</button>\r\n      <div className=\"login__signup\">\r\n        <p className=\"login__question\">Ещё не зарегистрированы?</p>\r\n        <Link to=\"/sign-up\" className=\"login__link\">Зарегистрироваться</Link>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\nexport default withRouter(Login);","import React from 'react';\r\nimport { Link, withRouter } from 'react-router-dom';\r\n\r\nconst Register = (props) => {\r\n  const { onRegister } = props;\r\n\r\n  const [email, setEmail] = React.useState('');\r\n  const [password, setPassword] = React.useState('')\r\n\r\n  const handleChangeEmail = (e) => {\r\n    setEmail(e.target.value);\r\n  }\r\n\r\n  const handleChangePassword = (e) => {\r\n    setPassword(e.target.value);\r\n  }\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    onRegister(email, password);\r\n    setEmail('');\r\n    setPassword('');\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} className=\"register\">\r\n      <h4 className=\"register__title\">Регистрация</h4>\r\n      <label htmlFor='email' className='register__fields'>\r\n        <input\r\n          type='text'\r\n          className='register__input'\r\n          id='reg-email'\r\n          name='email'\r\n          placeholder='Email'\r\n          value={email}\r\n          onChange={handleChangeEmail}\r\n          required\r\n        />\r\n        <span className='popup__input-error' id='popup-input-error'></span>\r\n      </label>\r\n      <label htmlFor='password' className='register__fields'>\r\n        <input\r\n          type='password'\r\n          className='register__input'\r\n          id='reg-pas'\r\n          name='password'\r\n          placeholder='Пароль'\r\n          value={password}\r\n          onChange={handleChangePassword}\r\n          required\r\n        />\r\n        <span className='popup__input-error' id='popup-input-error'></span>\r\n      </label>\r\n      <button type=\"submit\" className=\"register__button\">Зарегистрироваться</button>\r\n      <div className=\"register__signup\">\r\n        <p className=\"register__question\">Уже зарегистрированы?</p>\r\n        <Link to=\"/sign-in\" className=\"register__link\">Войти</Link>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\nexport default withRouter(Register);","import React from 'react';\r\nimport successImg from '../images/success.svg';\r\nimport failImg from '../images/fail.svg';\r\n\r\nexport { InfoTooltip };\r\n\r\nfunction InfoTooltip(props) {\r\n\r\n  const { isOpen, onClose, loggedIn } = props;\r\n\r\n  const [image, setImage] = React.useState('');\r\n  const [text, setText] = React.useState('');\r\n\r\n  React.useEffect(() => {\r\n    if (loggedIn) {\r\n      setImage(successImg);\r\n      setText(\"Вы успешно зарегистрировались!\")\r\n    } else {\r\n      setImage(failImg);\r\n      setText(\"Что-то пошло не так! Попробуйте ещё раз.\")\r\n    }\r\n  }, [isOpen, loggedIn]);\r\n\r\n  return (\r\n\r\n    <section className={`popup \r\n      ${isOpen && 'popup_opened'\r\n      }`}>\r\n      <div className=\"popup__container popup-mouse\">\r\n        <button className=\"popup__close popup-edit-close\" onClick={onClose} />\r\n        <div className=\"popup__content\">\r\n          <form className=\"popup__form\" action=\"#\" >\r\n            <div className=\"popup__answer\">\r\n              <img className=\"popup__image\" src={image} alt=\"success/fail\" />\r\n              <h4 className=\"popup__text\">{text}</h4>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </section>\r\n\r\n  );\r\n}","import React, { useState } from 'react';\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom';\nimport { Header } from './Header.js';\nimport { Main } from './Main.js';\nimport { Footer } from './Footer.js';\nimport { ImagePopup } from './ImagePopup.js';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\nimport { api } from '../utils/Api.js';\nimport { EditProfilePopup } from './EditProfilePopup.js';\nimport { EditAvatarPopup } from './EditAvatarPopup.js';\nimport { AddPlacePopup } from './AddPlacePopup.js';\nimport { DeletePlacePopup } from './DeletePlacePopup.js';\nimport { ProtectedRoute } from './ProtectedRoute.js';\nimport Login from './Login.js';\nimport * as auth from '../auth.js'\nimport Register from './Register.js';\nimport { InfoTooltip } from './InfoTooltip.js';\n\nfunction App() {\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = useState(false);\n  const [isDeletePlacePopupOpen, setDeletePlacePopupOpen] = useState(false);\n  const [isInfoTooltipPopupOpen, setInfoTooltipPopupOpen] = useState(false);\n\n  const [selectedCard, setSelectedCard] = useState({\n    isImageOpen: false,\n    link: '',\n    name: '',\n  });\n  const [currentUser, setCurrentUser] = useState({});\n  const [cards, setCards] = React.useState([]);\n  const [isLoading, setLoading] = useState(false);\n  const [deleteCard, setDeleteCard] = useState({});\n  const [loggedIn, setLoggedIn] = useState(false);\n\n  const history = useHistory();\n\n  React.useEffect(() => {\n    Promise.all([api.getCards(), api.getUserInfo()])\n      .then((res) => {\n        setCurrentUser(res[1]);\n        setCards(res[0]);\n      })\n      .catch((err) => console.log(err));\n  }, []);\n\n  function handleEditAvatarClick() {\n    setEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setAddPlacePopupOpen(true);\n  }\n\n  function handleDeletePlaceClick(card) {\n    setDeletePlacePopupOpen(true);\n    setDeleteCard(card);\n  }\n\n  function closeAllPopups() {\n    setEditProfilePopupOpen(false);\n    setEditAvatarPopupOpen(false);\n    setAddPlacePopupOpen(false);\n    setDeletePlacePopupOpen(false);\n    setInfoTooltipPopupOpen(false);\n    setSelectedCard({\n      isImageOpen: false,\n      link: '',\n      name: '',\n    });\n  }\n\n  function handleCardClick(card) {\n    const { link, name } = card;\n    setSelectedCard({ isImageOpen: true, link, name });\n  }\n\n  function handleCardLike(card) {\n    // Снова проверяем, есть ли уже лайк на этой карточке\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n    // Отправляем запрос в API и получаем обновлённые данные карточки\n    api.changeLikeCardStatus(card._id, !isLiked).then((newCard) => {\n      // Формируем новый массив на основе имеющегося, подставляя в него новую карточку\n      const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n      // Обновляем стейт\n      setCards(newCards);\n    })\n      .catch((err) => console.log(err));\n  }\n\n  function handleCardDelete() {\n    setLoading(true);\n    api.deleteCard(deleteCard._id)\n      .then(() => {\n\n        //обновляю стейт cards с помощью метода filter: создаю копию массива, исключив из него удалённую карточку.\n        setCards(cards.filter((item) => item !== deleteCard));\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err))\n      .finally(() => setLoading(false));\n  }\n\n  function handleUpdateUser(userData) {\n    setLoading(true);\n    api.updateProfile(userData)\n      .then((newUser) => {\n        setCurrentUser(newUser);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err))\n      .finally(() => setLoading(false));\n  }\n\n  function handleUpdateAvatar(avatar) {\n    setLoading(true);\n    api.updateAvatar(avatar)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err))\n      .finally(() => setLoading(false));\n  }\n\n  function handleAddPlaceSubmit(card) {\n    setLoading(true);\n    api\n      .postCard(card)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err))\n      .finally(() => setLoading(false));\n  }\n\n  function handleLogin(email, password) {\n    auth.login(email, password)\n      .then((data) => {\n        if (data.token) {\n          handleInfoTooltip(true);\n          setLoggedIn(true);\n          history.push('/');\n        }\n      })\n      .catch((err) => {\n        handleInfoTooltip(false);\n        if (err === 400) {\n          console.log('Не передано одно из полей');\n        } else if (err === 401) {\n          console.log('Пользователь с таким email не найден');\n        }\n      })\n  }\n\n  function handleRegister(email, password) {\n    auth.register(email, password)\n      .then((res) => {\n        history.push('/sign-in');\n        handleInfoTooltip(true);\n      })\n      .catch((err) => {\n        handleInfoTooltip(false);\n        if (err === 400) {\n          console.log('Некорректно заполнено одно из полей');\n        }\n      })\n  }\n\n  function handleInfoTooltip(log) {\n    log ? setLoggedIn(true) : setLoggedIn(false);\n    setInfoTooltipPopupOpen(true);\n  }\n\n  function handleTokenCheck() {\n    const jwt = localStorage.getItem('token');\n    if (jwt) {\n      auth.checkToken(jwt)\n        .then((res) => {\n          if (res) {\n            setLoggedIn(true);\n            history.push('/');\n          }\n        })\n        .catch((err) => {\n          handleInfoTooltip(false);\n          if (err === 401) {\n            console.log('Токен не передан или передан не в том формате');\n          }\n        })\n    }\n  }\n\n  React.useEffect(() => {\n    handleTokenCheck();\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  function handleLogout() {\n    localStorage.removeItem('token');\n    history.push('/sign-in');\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <Header onOut={handleLogout} />\n\n        <Switch>\n          <ProtectedRoute\n            exact path=\"/\"\n            loggedIn={loggedIn}>\n            <Main\n              cards={cards}\n              onCardClick={handleCardClick}\n              onCardLike={handleCardLike}\n              onCardDelete={handleDeletePlaceClick}\n              onEditProfile={handleEditProfileClick}\n              onAddPlace={handleAddPlaceClick}\n              onEditAvatar={handleEditAvatarClick}\n              handleCardClick={handleCardClick}\n            />\n            <Footer />\n          </ProtectedRoute>\n          <Route path=\"/sign-up\">\n            <Register onRegister={handleRegister} />\n          </Route>\n          <Route path=\"/sign-in\">\n            <Login onLogin={handleLogin} />\n          </Route>\n          <Route>\n            {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/sign-in\" />}\n          </Route>\n        </Switch>\n\n        <InfoTooltip\n          isOpen={isInfoTooltipPopupOpen}\n          onClose={closeAllPopups}\n          loggedIn={loggedIn}\n        />\n\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          isLoading={isLoading}\n          onUpdateUser={handleUpdateUser}\n        />\n\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlaceSubmit}\n          isLoading={isLoading}\n        />\n\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          isLoading={isLoading}\n          onUpdateAvatar={handleUpdateAvatar}\n        />\n\n        <DeletePlacePopup\n          isOpen={isDeletePlacePopupOpen}\n          onClose={closeAllPopups}\n          isLoading={isLoading}\n          onDeletePlace={handleCardDelete}\n        />\n\n        <ImagePopup\n          name={selectedCard.name}\n          link={selectedCard.link}\n          onClose={closeAllPopups}\n          isOpen={selectedCard.isImageOpen}\n        ></ImagePopup>\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App.js';\nimport * as serviceWorker from './serviceWorker';\nimport { BrowserRouter } from 'react-router-dom';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.querySelector('.page')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}